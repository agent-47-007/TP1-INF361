# ============================================================================
# Fichier de configuration Ansible
# TP INF 3611 - Partie 2
# ============================================================================

[defaults]
# Fichier d'inventaire par défaut
inventory = ./inventory.ini

# Désactiver la vérification de la clé d'hôte SSH
host_key_checking = False

# Fichier de log des opérations Ansible
log_path = ./ansible.log

# Affichage des tâches
stdout_callback = yaml
display_skipped_hosts = False
display_ok_hosts = True

# Timeout de connexion SSH (en secondes)
timeout = 30

# Nombre de processus parallèles (forks)
forks = 5

# Stratégie d'exécution (linear = séquentiel, free = parallèle)
strategy = linear

# Conserver les fichiers temporaires (utile pour le débogage)
# keep_remote_files = True

# Colorisation de la sortie
force_color = True

# Rôles et collections
roles_path = ./roles
collections_paths = ./collections

# Ne pas créer de fichiers .retry
retry_files_enabled = False

# Désactiver les avertissements de dépréciation
deprecation_warnings = False

# Interpréter Python
interpreter_python = auto_silent

[privilege_escalation]
# Configuration de l'élévation de privilèges
become = True
become_method = sudo
become_user = root
become_ask_pass = False

[ssh_connection]
# Configuration de la connexion SSH
ssh_args = -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no
pipelining = True
control_path = /tmp/ansible-ssh-%%h-%%p-%%r

# ============================================================================
# INSTRUCTIONS:
#
# Ce fichier configure le comportement d'Ansible pour ce projet.
# 
# Pour tester la configuration:
#   ansible --version
#   ansible -i inventory.ini all -m ping
#
# Pour voir toutes les variables de configuration:
#   ansible-config dump
#
# ============================================================================